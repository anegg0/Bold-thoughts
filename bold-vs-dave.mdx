# References:

1. Dave paper [https://arxiv.org/abs/2411.05463](https://arxiv.org/abs/2411.05463)  
2. Dave blog post: [https://ethresear.ch/t/the-dave-fraud-proof-algorithm/21844](https://ethresear.ch/t/the-dave-fraud-proof-algorithm/21844)   
3. Cartesi paper: [https://arxiv.org/abs/2212.12439](https://arxiv.org/abs/2212.12439)   
4. Bold paper: [https://arxiv.org/abs/2404.10491](https://arxiv.org/abs/2404.10491)

# Introduction

The Dave blog post \[2\] mentions Bold \[4\] but only discusses multi-level Bold, rather than single-level Bold (1L Bold), which is not at all a fair comparison. Indeed, Dave inherently relies on ZK proofs to obtain “one step” proofs at the block level, and there is no known multi-level extension of Dave that corresponds to multi-level Bold, which does not rely on ZK proofs and instead utilizes “one step” proofs at the instruction level.

The Dave paper \[1\] does compare Dave to 1L Bold (see Table 3 in that paper). Here, we present a cost analysis of Bold that is based on assumptions that are more closely aligned with the assumptions used to analyze Dave (these assumptions are detailed in the comments section of \[2\]). Then, based on this analysis, we make a comparison between single-level Bold and Dave.
We also explore variations and alternatives.




## Summary

1. For 1L Bold, the cost of defending against an adversary with budget $T$ is proportional to $\sqrt{T}$.  For Dave, this cost is proportional to $\log(T)$.   
2. Dave allows an adversary to add significant additional delay by just posting a single assertion and without actually censoring. In contrast, 1L Bold cannot be delayed by an adversary that does not censor, no matter how many assertions they post.  
3. The suggested bond price in the Dave paper is much lower than that suggested for Bold. 
However, this price is much too low to discourage an adversary from causing significant additional delay. If the same economic arguments that are used for Bold are applied to Dave, the correct bond price for Dave is actually somewhat higher than for Bold.   
4. We also explore variations of 1L Bold. One such variation is essentially equivalent to a “single-round Dave” protocol, which has very similar properties to 1L Bold, but with much lower gas costs. In other variations, we look at hybrid protocols that more fully exploit the fact that we are already relying on ZK proof technology – using this technology more fully, but (unlike  in  a ZK rollup) only when there is an actual challenge (which keeps expenses low during normal operation). In fact, this hybrid ZK solution seems to be superior on most metrics than either 1L Bold or Dave. 
This solution has a small bond price and a small fixed cost to defend an assertion, and when there is no challenge, there is no additional cost besides simply posting an assertion.

# 1L Bold Cost Estimates


Assumptions:

1. 1 gas \= 100 gwei \= 10<sup>-7</sup> eth
   1. same as in \[2\]  
2. 1 bisection takes 500K gas   
   1. based on current Bold implementation  
   2. The relatively high cost is due to the fact that every bisection writes to fresh storage, which is costly on L1  
3. 1 ZK proof verification takes 300K gas  
   1. Same as in \[2\]  
4. Number of bisections in a challenge path: 26  
   1. Based on current Bold implementation  
   2. Note that Dave assumes 40 bisections per challenge; however, 26 is enough for the overall design goals of Bold.  
      

So the cost (in gas) of one challenge path in Bold is \~ 500K x 26 \+ 300K \= 13.3 x 10<sup>6</sup> gas. This translates to \~ 1.3 eth.

Table 3 of Dave paper \[1\] calculates the cost (in bond size plus gas) to defend against an adversary with a certain resource budget. Of course, the defender is guaranteed to win and have all of its costs reimbursed, unless the adversary can exhaust the resources available to the defender. To carry out this calculation, we define:
* $T$ \= total adversary budget (could be TVL of chain)  
* $B$ \= bond size  
* $P$ \= path cost

We define $\textit{Cost}$ to be the cost to defend against an adversary with budget $T$.  In the worst case, the adversary might create $T/B$ challenges.  Therefore:

$$\textit{Cost} \le (T/B) \times P + B.$$  

This is minimized when $(T/B) \times P = B$, or $B = \sqrt{T P}$. 
So with $B$ set to $\sqrt{T P}$, we have 

$$Cost = 2 \times \sqrt{T P}.$$

This justifies the claim made above that to defend against an adversary with budget $T$, the honest defender needs a budget of size proportional to $\sqrt{T}$.

We can also define the <i>Griefing ratio</i>

$$\rho := T/Cost =  0.5 \times \sqrt{T/P}.$$

As in the Dave paper \[1\],  we set $T$ \= 3M eth.  
Using P \= 1.3 eth, we set B \= sqrt(3M x 1.3) \~ 2K eth, which leads to Cost \~ 4K eth and Griefing ratio \~ (3M)/(4K) \~ 0.75K.

\============

Single round Dave

As noted above, bisection costs for Bold are high due to the fact that each bisection writes to fresh storage. It is fruitful to consider a variant of Bold in which these different bisection paths are instead played as independent 1-1 matches. While some bisections near the root may be duplicated, overall this saves in gas because the overall storage costs are much lower. Indeed, this results in a very simple protocol that is essentially Dave with one round and an unbounded number of matches. We will refer to this as “single round Dave”.

According to the Dave blog post \[2\], one such 1-1 match takes 0.05 eth for bisections plus 300K gas \~ 0.03 eth for proof, so 0.08 eth in total.   
So we have P \= 0.08 eth.  
Again with T \= 3M eth, we set B \= sqrt(3M x 0.08) \~ 0.5K eth  
Cost \~ 1K eth  
Griefing ratio \~ 3K

Note: the estimate of 0.05 eth for bisections in Dave is based on a sequence of 2^40 blocks, whereas we only need 2^26. In actuality, it should be a bit less, namely, 0.04 eth, but we will ignore that here.

\==============

Dynamic bond strategy

In the Bold paper (Section 6.3 of \[4\]), a dynamic bond strategy is given. While this does not decrease costs in the worst case, it does not require us to assume any particular value for the adversary’s budget – it scales automatically.

The idea is this: we have a base bond price equal to P, and the ith assertion posted must post a bond of i x P. 

To analyze this strategy, suppose the adversary posts N assertions. We pessimistically assume the adversary arranges that the honest defender’s assertion is posted last. So the adversary pays bonds equal to \~ N^2/2 x P, while the honest defender places a bond equal to \~ N x P. If the adversary’ total budget is T, then he can post at most N \~ sqrt(2T/P) assertions. To the honest defender’s total cost is Cost \~ 2 N P \= 2 sqrt( 2 T P). This is a small constant factor greater than the cost sqrt(T P) calculated above, but we have the advantage that we do not need to know T in advance to set an appropriate bond price. Moreover, when there are actually no active challenges (which will be almost always), the posted bond will actually be very small, so the opportunity cost of keeping a very large bond posted is eliminated.

Note that we set the base bond price equal to P, which is the minimum possible to ensure we can reimburse honest gas costs using adversarial bonds. One can also easily verify that this is also the value which minimizes Cost.

\==============

A hybrid strategy

A useful observation is that if a defender has to fight off a large number of challenge assertions, it may well be cheaper to simply prove all the blocks of an assertion. In Bold, an assertion is made once an hour with 4 blocks generated per second, for a total of \< 15K blocks. (This is much smaller than 2^26, and the reason for using such a huge upper bound requires an examination of a number of details of Bold that we will not get into here. Instead, we will simply use this 15K estimate.)

According to this: [https://zkrollup.wtf/ethereum/g6.xlarge/reserved](https://zkrollup.wtf/ethereum/g6.xlarge/reserved)  
Average cost of proving a block is $0.088  
L1 has a gas target of 15M per block (12 seconds)  
Arb has a gas target of 7M per second.  
So Arb has a target of 1.75M per block.  
So per block, that’s $0.088 x 1.75/15 \= \~ $0.01

So that means the cost of simply proving the entire assertion as a ZK proof is about 150 usd. Using an exchange rate of 1 eth \= 2K usd, this is 0.075 eth.  
This is the proving cost of Ethereum blocks.  
Arbitum uses an extension of EVM (Stylus) that allows for much greater computation per gas, soand let’s multiply this cost by 10 to be on the safe side, obtaining a proving cost of 0.75 eth.

Using this, we can bound Cost as follows.  
Let A be the cost of generating a ZK proof plus the gas cost for verifying such a proof for the entire assertion (A \= 0.75 eth \+ 0.03 eth \<= 0.8 eth).  
It makes no sense to spend more than A eth on gas fees, as we can more cheaply just generate the proof.

So we get Cost \<= 2 A \+ B \<= 1.6eth \+ B.  
To force the defender to spend A on gas, the adversary must post N bonds so that N P \>= A, so N 0.08 \>= 0.8, or N \>= 10\. (Here, we are using the P value taken from the above single-round Dave estimate.) So in other words, if the adversary makes N assertions, where we can take N=10, we stop playing the interactive game and just post a single ZK proof for the entire assertion.  To ensure the defender can be reimbursed from confiscated bonds, we need B \>= P and N B \>= (N-1) P \+ A. Using our estimates, we can take B \= 0.16 eth. Therefore, Cost \<= 2 A \+ B \<= 1.6 eth \+ 0.16 eth \<= 1.8 eth.

Note that the above cost, which is the maximum cost regardless of the number of challengers,  is less than that of defending against just two adversarial challengers using the Dave protocol. For Dave, the cost of defeating a single challenger in a full complement of 21 matches is roughly 1 eth (= 21 x 0.05 eth), and so for two challengers, the defender will have to do this twice.

The above observations raise the obvious question: if we are going to use ZK proofs at all, why not just use them to prove all assertions all of the time (as in a ZK rollup). The answer is that it is a tradeoff between expenses and delay. On the one hand, if we use the interactive fraud proof, and there are no challenge assertions, the only expense (beyond that of just posting the assertion) is the opportunity cost of keeping a single bond of 0.16eth tied up on L1 which is negligible (this expense is 16 usd per year, based on 5% interest rate) but we have the 7 day delay . On the other hand, if we only use ZK proofs, then we have the ongoing expense of generating ZK proofs, which could be as high as 0.8 eth per hour (so \~ 14M usd per year).

Another reason one might not wish to rely solely on ZK proofs to prove everything is that one may not trust that ZK proof technology provides both safety and liveness. Of course, if one does not trust this technology at all, then it may not seem reasonable to use it for single-level Bold or Dave. However, even without complete trust, it can still be useful in this setting, if one uses some form of “security council” as a backstop to failures of liveness and/or safety. While such a “security council” solution can work in an interactive fraud proof, it is not really useful in a pure ZK proof solution, as then one must take into account censorship attacks on the response of the security council, and then one is back to the same 7 day delay, and nothing is gained.

We can also significantly simplify the above hybrid interactive fraud proof protocol. We simply post an assertion, and if it is challenged, we post a ZK proof for the assertion. We still use timers and we still may use a security council backstop if we don’t fully trust the ZK proof technology. We would still have an inherent 7 day delay to protect against censorship attacks. For this solution, we must take B \>= A to ensure that we can reimburse for the cost of proving and posting the assertion, so B \>= 0.8 eth by the above estimates. So while simpler, the bond price for this protocol is higher (0.8 eth vs 0.16 eth, although this could change as ZK proving becomes cheaper).

Another tradeoff to consider is that any protocol that involves ZK proving entire assertions may be criticized for having a somewhat centralized nature. At the very least, such a protocol may require some amount of coordination among honest parties to carry out a rather large scale distributed ZK proving computation. That said, the ZK proving can be fairly easily distributed among honest parties in a fairly trustless manner without too much coordination: different parties can generate proofs for different blocks, which can be verified by other honest parties and then “glued” together using standard recursion techniques (i.e., generating a proof that essentially says “I know proofs for a bunch of individual blocks”, which proves the entire assertion). The same type of criticism may also be directed towards single-level Bold or one-round Dave, if the honest parties are required to generate many ZK proofs to defend against a large number of challengers.

\=============

Dave delay costs   
\[Maybe this should be placed earlier?\]

The main drawback of Dave is that just by posting a small number of assertions, the adversary can add significant additional delay to the protocol, even if the adversary *does not actively censor* (which would likely be quite difficult and/or expensive to actually do).  
For example, by posting just 8 assertions, the adversary can cause the protocol to run for 12 days – that’s 5 days more than the normal delay of 7 days. (Table 4 in the Dave paper indicates that such a delay can be achieved by posting 15 adversarial assertions. By direct calculation, we determined that this already happens with just 8 adversarial assertions.) Moreover, by posting just a *single* assertion, the adversary can cause an additional delay of 1.75 days (21 rounds at 10 hours per round, as per in Dave paper); moreover, if the adversary is able to actually censor for up to 7 days, then the additional delay becomes 10 days (the adversary can actually win in 20 of the 21 rounds by censoring, so there may be 40 rounds instead of 21).  
   
By contrast, neither (single-level) Bold nor any of the variations discussed above have this characteristic: if the adversary does not censor, there is no additional delay above the usual 7 day delay (except for the small amount of time needed to make the necessary protocol moves, which is on the order of a few hours); moreover, if the adversary is able to censor up to 7 days, then the additional delay is (approximately) 7 days.

In the Dave paper, it is suggested that very small bonds can be used – they suggest 3 eth. But if this is done, then the adversary can capriciously choose to significantly delay the protocol at quite low cost. For example, for just 3 eth, the adversary can cause an extra delay of 1.75 days, without actually censoring. Any additional delay incurs opportunity cost and a degraded user experience for users that want to withdraw assets, and the bond should be priced high enough to discourage imposing this additional delay. A reasonable strategy is to ensure that the bond price is at least the value of this opportunity cost.

To be extremely conservative, consider a bank-run scenario. The Arbitrum One bridge ([https://etherscan.io/address/0x8315177ab297ba92a06054ce80a67ed4dbd7ed3a](https://etherscan.io/address/0x8315177ab297ba92a06054ce80a67ed4dbd7ed3a)) currently (as of April 2025\) contains about 1M eth. Assuming funds could earn 5% APY, then the opportunity cost of delaying the withdraw of 1M eth for 1.75 days is \~ 0.2K eth.  This is quite a bit larger than the bond price of 3 eth suggested in the Dave paper, which did not take such considerations into account at all.

\[I don't think we need the following. I wanted to calculate the amount of delayed withdrawals, taking into account the fact that if assertions are posted once every hour, and if a given assertion suffers additional delay Delta, the following assertion is delayed an extra Delta \- 1 hour, the next Delta \- 2 hours, and so on. We can decide if this fits somewhere.\]

1 eth \~ 2K usd

w \= withdrawal rate \= 80K usd per hour (empirical)  
c \= cost per hour \= 0.05 / (hours per year)  \= 5.7 x 10^{-6}  
w c \~ 0.5 usd

Imputed cost \~ intl\_0^Delta w c x dx \= w c Delta^2 / 2, where Delta \= delay  
Delay \= 5 days \= 120 hours  
Imputed cost \= w c Delta^2 / 2 \~ 0.5 x 0.5 x 120^2 \~ 3600 usd \~ 1.8 eth

